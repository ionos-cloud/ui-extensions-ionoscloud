{"version":3,"sources":["webpack://ionoscloud-0.2.0/./cloud-credential/ionoscloud.vue","webpack://ionoscloud-0.2.0/cloud-credential/ionoscloud.vue","webpack://ionoscloud-0.2.0/./cloud-credential/ionoscloud.vue?4df4","webpack://ionoscloud-0.2.0/./cloud-credential/ionoscloud.vue?7086"],"names":["render","_vm","this","_c","_self","staticClass","attrs","value","decodedData","username","mode","on","$event","setData","password","token","endpoint","staticRenderFns","components","Banner","LabeledInput","LabeledSelect","props","type","String","required","Object","driver","$store","dispatch","id","secret","SECRET","replace","atob","data","busy","allowBusy","error","watch","neu","$emit","computed","canAuthenticate","_this$value","_this$value2","_this$value3","created","methods","test","clear","component"],"mappings":"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","file":"ionoscloud-0.2.0.umd.min.cloud-credential.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{staticClass:\"mt-20\",attrs:{\"value\":_vm.value.decodedData.username,\"label-key\":\"driver.ionoscloud.auth.fields.username\",\"placeholder-key\":\"driver.ionoscloud.auth.placeholders.username\",\"type\":\"text\",\"mode\":_vm.mode},on:{\"input\":function($event){return _vm.value.setData('username', $event);}}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{staticClass:\"mt-20\",attrs:{\"value\":_vm.value.decodedData.password,\"label-key\":\"driver.ionoscloud.auth.fields.password\",\"placeholder-key\":\"driver.ionoscloud.auth.placeholders.password\",\"type\":\"password\",\"mode\":_vm.mode},on:{\"input\":function($event){return _vm.value.setData('password', $event);}}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('LabeledInput',{staticClass:\"mt-20\",attrs:{\"value\":_vm.value.decodedData.token,\"label-key\":\"driver.ionoscloud.auth.fields.token\",\"placeholder-key\":\"driver.ionoscloud.auth.placeholders.token\",\"type\":\"text\",\"mode\":_vm.mode},on:{\"input\":function($event){return _vm.value.setData('token', $event);}}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('LabeledInput',{staticClass:\"mt-20\",attrs:{\"value\":_vm.value.decodedData.endpoint || 'https://api.ionos.com/cloudapi/v6',\"label-key\":\"driver.ionoscloud.auth.fields.endpoint\",\"placeholder-key\":\"driver.ionoscloud.auth.placeholders.endpoint\",\"type\":\"text\",\"mode\":_vm.mode},on:{\"input\":function($event){return _vm.value.setData('endpoint', $event);}}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n\nimport Banner from '@components/Banner/Banner.vue';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { SECRET } from '@shell/config/types';\nimport { _CREATE } from '@shell/config/query-params';\n\nexport default {\n  components: {\n    Banner,\n    LabeledInput,\n    LabeledSelect,\n  },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  async fetch() {\n    this.driver = await this.$store.dispatch('rancher/find', {\n      type: 'nodedriver',\n      id:   'ionoscloud'\n    });\n    const secret = await this.$store.dispatch('management/find', { type: SECRET, id: this.value.id.replace(':', '/') });\n    this.value.setData('username', atob(secret.data['ionoscloudcredentialConfig-username']));\n    this.value.setData('endpoint', atob(secret.data['ionoscloudcredentialConfig-endpoint']));\n  },\n\n  data() {\n\n    return {\n      busy:           false,\n      driver:         {},\n      allowBusy:      false,\n      error:          '',\n    };\n  },\n\n  watch: {\n    'value.decodedData.username'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n\n    'value.decodedData.password'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n\n    'value.decodedData.token'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n\n    'value.decodedData.endpoint'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n  },\n\n  computed: {\n\n    canAuthenticate() {\n      return !!this.value?.decodedData?.token ||\n        !!this.value?.decodedData?.username &&\n        !!this.value?.decodedData?.password;\n    }\n  },\n\n  created() {\n    this.$emit('validationChanged', false);\n  },\n\n  methods: {\n    test() {\n      return true;\n    },\n\n    clear() {\n      // Tell parent that the form is not invalid\n      this.$emit('validationChanged', false);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.username\"\n          class=\"mt-20\"\n          label-key=\"driver.ionoscloud.auth.fields.username\"\n          placeholder-key=\"driver.ionoscloud.auth.placeholders.username\"\n          type=\"text\"\n          :mode=\"mode\"\n          @input=\"value.setData('username', $event);\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.password\"\n          class=\"mt-20\"\n          label-key=\"driver.ionoscloud.auth.fields.password\"\n          placeholder-key=\"driver.ionoscloud.auth.placeholders.password\"\n          type=\"password\"\n          :mode=\"mode\"\n          @input=\"value.setData('password', $event);\"\n        />\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col span-12\">\n        <LabeledInput\n          :value=\"value.decodedData.token\"\n          class=\"mt-20\"\n          label-key=\"driver.ionoscloud.auth.fields.token\"\n          placeholder-key=\"driver.ionoscloud.auth.placeholders.token\"\n          type=\"text\"\n          :mode=\"mode\"\n          @input=\"value.setData('token', $event);\"\n        />\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col span-12\">\n        <LabeledInput\n          :value=\"value.decodedData.endpoint || 'https://api.ionos.com/cloudapi/v6'\"\n          class=\"mt-20\"\n          label-key=\"driver.ionoscloud.auth.fields.endpoint\"\n          placeholder-key=\"driver.ionoscloud.auth.placeholders.endpoint\"\n          type=\"text\"\n          :mode=\"mode\"\n          @input=\"value.setData('endpoint', $event);\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ionoscloud.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ionoscloud.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ionoscloud.vue?vue&type=template&id=0205e06a\"\nimport script from \"./ionoscloud.vue?vue&type=script&lang=js\"\nexport * from \"./ionoscloud.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}