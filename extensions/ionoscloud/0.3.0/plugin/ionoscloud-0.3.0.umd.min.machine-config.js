(("undefined"!==typeof self?self:this)["webpackChunkionoscloud_0_3_0"]=("undefined"!==typeof self?self:this)["webpackChunkionoscloud_0_3_0"]||[]).push([[921],{97:function(e,a,l){"use strict";l.r(a);var t=l(6758),o=l.n(t),n=l(6173),s=l.n(n),i=s()(o());i.push([e.id,".help-block[data-v-ff63a74c]{margin-top:.5em;font-size:.8em;margin-left:1em}.create-nat[data-v-ff63a74c]{flex-direction:column}.ionoscloud-config[data-v-ff63a74c]{display:flex;align-items:center}.ionoscloud-config>.title[data-v-ff63a74c]{font-weight:700;padding:4px 0}.ionoscloud-config>.loading[data-v-ff63a74c]{margin-left:20px;display:flex;align-items:center}.ionoscloud-config>.loading>i[data-v-ff63a74c]{margin-right:4px}",""]),a["default"]=i},1177:function(e,a,l){var t={"./csp/metadata.json":6471,"./federal/metadata.json":1862,"./harvester/metadata.json":1507,"./rgs/metadata.json":8401,"./suse/metadata.json":7259};function o(e){var a=n(e);return l(a)}function n(e){if(!l.o(t,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t[e]}o.keys=function(){return Object.keys(t)},o.resolve=n,e.exports=o,o.id=1177},3057:function(e,a,l){var t=l(97);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var o=l(4825).A;o("70b5bc13",t,!0,{sourceMap:!1,shadowMode:!1})},4899:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return De}});var t=l(9274);const o={key:1},n={class:"row mt-10"},s={class:"col span-3"},i={class:"col span-3"},d={key:0,class:"col span-3"},r={key:1,class:"col span-3"},u={key:2,class:"col span-3"},c={key:0,class:"row mt-10"},v={class:"col span-3"},m={class:"col span-3"},p={class:"col span-6"},h={key:1,class:"row mt-10"},b={class:"col span-6"},N={class:"col span-6"},y={class:"row mt-10"},E={class:"col span-6"},I={class:"col span-6"},g={class:"row mt-10"},T={class:"col span-12"},f=["disabled"],S={class:"row mt-10"},V={class:"col span-4"},C={class:"col span-4"},w={class:"row mt-10"},A={class:"col span-4"},P={class:"col span-4"},k={class:"row mt-10"},L={class:"col span-4"},R={class:"col span-4"},U={class:"col span-4"},O={class:"row mt-10"},D={class:"col span-4"},B={class:"row mt-10"},F={class:"col span-4"},_={class:"col span-4"},G={class:"row mt-10"},Z={class:"col span-4"},M={class:"col span-4"},x={class:"row mt-10"},X={class:"col span-4"},K={class:"col span-4"},q={class:"col span-4"},z={key:2,class:"row mt-10"},j={class:"col span-4"},H={class:"col span-4"},$={class:"col span-4"},Y={key:3,class:"row mt-10"},W={class:"col span-6"},J={key:4,class:"card-container create-nat"},Q={class:"row mt-10"},ee={class:"col span-3"},ae={class:"col span-3"},le={class:"col span-3"},te={class:"col span-3"},oe={class:"row mt-10"},ne={class:"col span-3"},se={class:"col span-3"},ie={class:"col span-3"},de={class:"col span-3"},re={class:"mt-10"};function ue(e,a,l,ue,ce,ve){const me=(0,t.resolveComponent)("Loading"),pe=(0,t.resolveComponent)("Banner"),he=(0,t.resolveComponent)("LabeledSelect"),be=(0,t.resolveComponent)("LabeledInput"),Ne=(0,t.resolveComponent)("Checkbox"),ye=(0,t.resolveComponent)("StringList");return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[e.$fetchState.pending?((0,t.openBlock)(),(0,t.createBlock)(me,{key:0,delayed:!0})):(0,t.createCommentVNode)("",!0),e.errors.length?((0,t.openBlock)(),(0,t.createElementBlock)("div",o,[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.errors,((a,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:l},[(0,t.createVNode)(pe,{color:"error",label:e.stringify(a)},null,8,["label"])])))),128))])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",null,[a[76]||(a[76]=(0,t.createElementVNode)("div",{class:"ionoscloud-config"},[(0,t.createElementVNode)("div",{class:"title"}," ionoscloud Configuration ")],-1)),(0,t.createElementVNode)("div",n,[(0,t.createElementVNode)("div",s,[(0,t.createVNode)(he,{value:e.location.selected,"onUpdate:value":a[0]||(a[0]=a=>e.location.selected=a),label:"Location",options:e.location.options,loading:e.location.busy,searchable:!1},null,8,["value","options","loading"])]),(0,t.createElementVNode)("div",i,[(0,t.createVNode)(he,{value:e.serverType.selected,"onUpdate:value":a[1]||(a[1]=a=>e.serverType.selected=a),label:"ServerType",options:e.serverType.options,loading:e.serverType.busy,searchable:!1},null,8,["value","options","loading"])]),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",d,[(0,t.createVNode)(he,{value:e.serverAvailabilityZone.selected,"onUpdate:value":a[2]||(a[2]=a=>e.serverAvailabilityZone.selected=a),label:"serverAvailabilityZone",options:e.serverAvailabilityZone.options,loading:e.serverAvailabilityZone.busy,searchable:!1},null,8,["value","options","loading"])])):(0,t.createCommentVNode)("",!0),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",r,[(0,t.createVNode)(he,{value:e.volumeAvailabilityZone.selected,"onUpdate:value":a[3]||(a[3]=a=>e.volumeAvailabilityZone.selected=a),label:"volumeAvailabilityZone",options:e.volumeAvailabilityZone.options,loading:e.volumeAvailabilityZone.busy,searchable:!1},null,8,["value","options","loading"])])):(0,t.createCommentVNode)("",!0),"CUBE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",u,[(0,t.createVNode)(he,{value:e.template.selected,"onUpdate:value":a[4]||(a[4]=a=>e.template.selected=a),label:"CUBE Server Template",options:e.template.options,loading:e.template.busy,searchable:!1},null,8,["value","options","loading"])])):(0,t.createCommentVNode)("",!0)]),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",c,[(0,t.createElementVNode)("div",v,[(0,t.createVNode)(he,{value:e.cpuFamily.selected,"onUpdate:value":a[5]||(a[5]=a=>e.cpuFamily.selected=a),label:"CpuFamily",options:e.cpuFamily.options,loading:e.cpuFamily.busy,searchable:!1},null,8,["value","options","loading"])]),(0,t.createElementVNode)("div",m,[(0,t.createVNode)(be,{value:e.cores,"onUpdate:value":a[6]||(a[6]=a=>e.cores=a),mode:e.mode,disabled:e.busy,required:!0,label:"CPU Core Count"},null,8,["value","mode","disabled"])]),(0,t.createElementVNode)("div",p,[(0,t.createVNode)(be,{value:e.ram,"onUpdate:value":a[7]||(a[7]=a=>e.ram=a),mode:e.mode,disabled:e.busy,required:!0,label:"RAM size (in MiB)"},null,8,["value","mode","disabled"]),a[47]||(a[47]=(0,t.createElementVNode)("p",{class:"help-block"},"Must be a multiple of 256",-1))])])):(0,t.createCommentVNode)("",!0),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",h,[(0,t.createElementVNode)("div",b,[(0,t.createVNode)(be,{value:e.diskSize,"onUpdate:value":a[8]||(a[8]=a=>e.diskSize=a),mode:e.mode,disabled:e.busy,required:!0,label:"Disk size (in GB)"},null,8,["value","mode","disabled"])]),(0,t.createElementVNode)("div",N,[(0,t.createVNode)(he,{value:e.diskType.selected,"onUpdate:value":a[9]||(a[9]=a=>e.diskType.selected=a),label:"DiskType",options:e.diskType.options,loading:e.diskType.busy,searchable:!1,required:!0},null,8,["value","options","loading"])])])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",y,[(0,t.createElementVNode)("div",E,[(0,t.createVNode)(be,{value:e.image,"onUpdate:value":a[10]||(a[10]=a=>e.image=a),mode:e.mode,disabled:e.busy,required:!0,label:"Image Alias or ID"},null,8,["value","mode","disabled"]),a[48]||(a[48]=(0,t.createElementVNode)("p",{class:"help-block"},[(0,t.createTextVNode)("You can use "),(0,t.createElementVNode)("a",{href:"https://docs.ionos.com/cli-ionosctl",target:"_blank",rel:"noopener noreferrer"},"ionosctl image list [-F name=operatingSystem]")],-1))]),(0,t.createElementVNode)("div",I,[(0,t.createVNode)(be,{value:e.imagePassword,"onUpdate:value":a[11]||(a[11]=a=>e.imagePassword=a),mode:e.mode,disabled:e.busy,required:!0,label:"Image Password",type:"password"},null,8,["value","mode","disabled"])])]),(0,t.createElementVNode)("div",g,[(0,t.createElementVNode)("div",T,[a[49]||(a[49]=(0,t.createElementVNode)("label",{class:"acc-label"},"Cloud init configuration.",-1)),(0,t.withDirectives)((0,t.createElementVNode)("textarea",{"onUpdate:modelValue":a[12]||(a[12]=a=>e.cloudInit=a),disabled:e.busy||e.mode===e._VIEW},null,8,f),[[t.vModelText,e.cloudInit]]),a[50]||(a[50]=(0,t.createElementVNode)("p",{class:"help-block"},[(0,t.createTextVNode)("Optional. "),(0,t.createElementVNode)("a",{href:"https://cloudinit.readthedocs.io/en/latest/topics/examples.html",target:"_blank",rel:"noopener noreferrer"},"Cloud-init Documentation"),(0,t.createTextVNode)(".")],-1))])]),(0,t.createElementVNode)("div",S,[(0,t.createElementVNode)("div",V,[(0,t.createVNode)(be,{value:e.sshUser,"onUpdate:value":a[13]||(a[13]=a=>e.sshUser=a),mode:e.mode,disabled:e.busy,label:"SSH User"},null,8,["value","mode","disabled"]),a[51]||(a[51]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. User to connect to via SSH.",-1))]),(0,t.createElementVNode)("div",C,[(0,t.createVNode)(Ne,{label:"Send SSH in user data.",value:e.sshInCloudInit,"onUpdate:value":a[14]||(a[14]=a=>e.sshInCloudInit=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[52]||(a[52]=(0,t.createElementVNode)("p",{class:"help-block"},"Should the driver only add the SSH info in the user data? (required for custom images).",-1))])]),(0,t.createElementVNode)("div",w,[(0,t.createElementVNode)("div",A,[(0,t.createVNode)(be,{value:e.datacenterId,"onUpdate:value":a[15]||(a[15]=a=>e.datacenterId=a),mode:e.mode,disabled:e.busy,label:"Datacenter ID"},null,8,["value","mode","disabled"]),a[53]||(a[53]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional, UUID-4 format. If you want to use an existing IONOS Datacenter to host this VM, you can provide its ID here.",-1))]),(0,t.createElementVNode)("div",P,[(0,t.createVNode)(be,{value:e.datacenterName,"onUpdate:value":a[16]||(a[16]=a=>e.datacenterName=a),mode:e.mode,disabled:e.busy,label:"Datacenter Name"},null,8,["value","mode","disabled"]),a[54]||(a[54]=(0,t.createElementVNode)("p",{class:"help-block"},"String. If you want to use an existing IONOS Datacenter to host this VM, you can change the name here. Please note that if the ID is set it will the prioritized.",-1))])]),(0,t.createElementVNode)("div",k,[(0,t.createElementVNode)("div",L,[(0,t.createVNode)(be,{value:e.lanId,"onUpdate:value":a[17]||(a[17]=a=>e.lanId=a),mode:e.mode,disabled:e.busy,label:"LAN ID"},null,8,["value","mode","disabled"]),a[55]||(a[55]=(0,t.createElementVNode)("p",{class:"help-block"},'Optional, integer. The LAN the VM will attach to. If blank, a default LAN will be created. Overrides "Private LAN" setting.',-1))]),(0,t.createElementVNode)("div",R,[(0,t.createVNode)(be,{value:e.lanName,"onUpdate:value":a[18]||(a[18]=a=>e.lanName=a),mode:e.mode,disabled:e.busy,label:"LAN Name"},null,8,["value","mode","disabled"]),a[56]||(a[56]=(0,t.createElementVNode)("p",{class:"help-block"},"String. If you want to use an existing IONOS LAN, you can change the name here. Please note that if the ID is set it will the prioritized.",-1))]),(0,t.createElementVNode)("div",U,[(0,t.createVNode)(Ne,{label:"Make Default LAN Private",value:e.privateLan,"onUpdate:value":a[19]||(a[19]=a=>e.privateLan=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[57]||(a[57]=(0,t.createElementVNode)("p",{class:"help-block"},"If the default LAN does not exist, create a private LAN",-1))])]),(0,t.createElementVNode)("div",O,[(0,t.createElementVNode)("div",D,[(0,t.createVNode)(ye,{label:"Additional LANs",value:e.additionalLans,"onUpdate:value":a[20]||(a[20]=a=>e.additionalLans=a),items:e.additionalLans,mode:e.mode,disabled:e.busy,onChange:a[21]||(a[21]=a=>e.onChangeAdditionalLans(a))},null,8,["value","items","mode","disabled"]),a[58]||(a[58]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. Exiting Ionos LAN names. Every LAN in the datacenter which has its name in this list will be connected to the server, names which are not found will be ignored.",-1))])]),(0,t.createElementVNode)("div",B,[(0,t.createElementVNode)("div",F,[(0,t.createVNode)(Ne,{label:"NIC DHCP",value:e.nicDhcp,"onUpdate:value":a[22]||(a[22]=a=>e.nicDhcp=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[59]||(a[59]=(0,t.createElementVNode)("p",{class:"help-block"},"Set whether the created NIC should have dhcp set on or off",-1))]),(0,t.createElementVNode)("div",_,[(0,t.createVNode)(ye,{label:"NIC Ips",value:e.nicIps,"onUpdate:value":a[23]||(a[23]=a=>e.nicIps=a),items:e.nicIps,mode:e.mode,disabled:e.busy,onChange:a[24]||(a[24]=a=>e.onChangeNicIps(a))},null,8,["value","items","mode","disabled"]),a[60]||(a[60]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. IPBlock reserved IPs. If not set, the driver will reserve an IPBlock automatically or let the API set a private IP if the LAN is private",-1))])]),(0,t.createElementVNode)("div",G,[(0,t.createElementVNode)("div",Z,[(0,t.createVNode)(Ne,{label:"Wait for NIC IP change",value:e.waitForIpChange,"onUpdate:value":a[25]||(a[25]=a=>e.waitForIpChange=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[61]||(a[61]=(0,t.createElementVNode)("p",{class:"help-block"},"Should the driver wait for the NIC IP to be set by external sources?",-1))]),(0,t.createElementVNode)("div",M,[(0,t.createVNode)(be,{value:e.waitForIpChangeTimeout,"onUpdate:value":a[26]||(a[26]=a=>e.waitForIpChangeTimeout=a),mode:e.mode,disabled:e.busy,label:"Wait for IP change timeout"},null,8,["value","mode","disabled"])])]),(0,t.createElementVNode)("div",x,[(0,t.createElementVNode)("div",X,[(0,t.createVNode)(be,{value:e.natId,"onUpdate:value":a[27]||(a[27]=a=>e.natId=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway ID"},null,8,["value","mode","disabled"]),a[62]||(a[62]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional, UUID-4 format. Use a preconfigured NAT Gateway. Datacenter ID and Private LAN required. Overrides NAT Config below",-1))]),(0,t.createElementVNode)("div",K,[(0,t.createVNode)(be,{value:e.natName,"onUpdate:value":a[28]||(a[28]=a=>e.natName=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Name"},null,8,["value","mode","disabled"]),a[63]||(a[63]=(0,t.createElementVNode)("p",{class:"help-block"},'String. If the "Create NAT" checkbox is checked, will try creating a NAT with this name. If one already exists, will use the existing NAT.',-1))]),(0,t.createElementVNode)("div",q,[(0,t.createVNode)(Ne,{label:"Create a configurable NAT",value:e.createNat,"onUpdate:value":a[29]||(a[29]=a=>e.createNat=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[64]||(a[64]=(0,t.createElementVNode)("p",{class:"help-block"},[(0,t.createTextVNode)("Requires private LAN. You can override settings of this NAT using the form below "),(0,t.createElementVNode)("a",{href:"#",target:"_blank",rel:"noopener noreferrer"},"See open ports here"),(0,t.createTextVNode)(". Must set gateway IP as default route via cloud config, default: 10.0.0.1")],-1))])]),!0===e.createNat?((0,t.openBlock)(),(0,t.createElementBlock)("div",z,[(0,t.createElementVNode)("div",j,[(0,t.createVNode)(ye,{label:"Custom NAT: map LANs to Gateway IPs",value:e.natLansToGateways,"onUpdate:value":a[30]||(a[30]=a=>e.natLansToGateways=a),items:e.natLansToGateways,mode:e.mode,disabled:e.busy,onChange:a[31]||(a[31]=a=>e.onChangeNatLansToGateways(a))},null,8,["value","items","mode","disabled"]),a[65]||(a[65]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. Maps Lan IDs to a specific Gateway IP. Gateway IP must be set manually as default route.",-1))]),(0,t.createElementVNode)("div",H,[(0,t.createVNode)(ye,{label:"Custom NAT: Public IPs",value:e.natPublicIps,"onUpdate:value":a[32]||(a[32]=a=>e.natPublicIps=a),items:e.natPublicIps,mode:e.mode,disabled:e.busy,onChange:a[33]||(a[33]=a=>e.onChangeNatPublicIps(a))},null,8,["value","items","mode","disabled"]),a[66]||(a[66]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. IPBlock reserved IPs. If not set, the driver will reserve an IPBlock automatically",-1))]),(0,t.createElementVNode)("div",$,[(0,t.createVNode)(ye,{label:"Custom NAT: Flowlogs",value:e.natFlowlogs,"onUpdate:value":a[34]||(a[34]=a=>e.natFlowlogs=a),items:e.natFlowlogs,mode:e.mode,disabled:e.busy,onChange:a[35]||(a[35]=a=>e.onChangeNatFlowlogs(a))},null,8,["value","items","mode","disabled"]),a[67]||(a[67]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. NAT Flowlogs.",-1))])])):(0,t.createCommentVNode)("",!0),!0===e.createNat?((0,t.openBlock)(),(0,t.createElementBlock)("div",Y,[(0,t.createElementVNode)("div",W,[(0,t.createVNode)(ye,{label:"Custom NAT: Rules",value:e.natRules,"onUpdate:value":a[36]||(a[36]=a=>e.natRules=a),items:e.natRules,mode:e.mode,disabled:e.busy,onChange:a[37]||(a[37]=a=>e.onChangeNatRules(a))},null,8,["value","items","mode","disabled"]),a[68]||(a[68]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. NAT Rules. Use the form bellow to add a new NAT rule",-1))])])):(0,t.createCommentVNode)("",!0),e.createNat?((0,t.openBlock)(),(0,t.createElementBlock)("div",J,[(0,t.createElementVNode)("div",Q,[(0,t.createElementVNode)("div",ee,[(0,t.createVNode)(be,{value:e.natRuleName,"onUpdate:value":a[38]||(a[38]=a=>e.natRuleName=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Name"},null,8,["value","mode","disabled"]),a[69]||(a[69]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The name of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",ae,[(0,t.createVNode)(be,{value:e.natRuleType,"onUpdate:value":a[39]||(a[39]=a=>e.natRuleType=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Type"},null,8,["value","mode","disabled"]),a[70]||(a[70]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The type of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",le,[(0,t.createVNode)(he,{value:e.natRuleProtocol.selected,"onUpdate:value":a[40]||(a[40]=a=>e.natRuleProtocol.selected=a),label:"natRuleProtocol",options:e.natRuleProtocol.options,loading:e.natRuleProtocol.busy,searchable:!1},null,8,["value","options","loading"])]),(0,t.createElementVNode)("div",te,[(0,t.createVNode)(be,{value:e.natRulePublicIp,"onUpdate:value":a[41]||(a[41]=a=>e.natRulePublicIp=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Public IP"},null,8,["value","mode","disabled"]),a[71]||(a[71]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The Public IP of the new Nat Gateway Rule, leave black and the driver will use the nat gateway IP.",-1))])]),(0,t.createElementVNode)("div",oe,[(0,t.createElementVNode)("div",ne,[(0,t.createVNode)(be,{value:e.natRuleSourceSubnet,"onUpdate:value":a[42]||(a[42]=a=>e.natRuleSourceSubnet=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Source Subnet"},null,8,["value","mode","disabled"]),a[72]||(a[72]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The Source Subnet of the new Nat Gateway Rule, leave black and the driver will use the first ip on the nic with mask 24.",-1))]),(0,t.createElementVNode)("div",se,[(0,t.createVNode)(be,{value:e.natRuleTargetSubnet,"onUpdate:value":a[43]||(a[43]=a=>e.natRuleTargetSubnet=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Target Subnet"},null,8,["value","mode","disabled"]),a[73]||(a[73]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The Target Subnet of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",ie,[(0,t.createVNode)(be,{value:e.natRuleTargetPortRangeStart,"onUpdate:value":a[44]||(a[44]=a=>e.natRuleTargetPortRangeStart=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Port Range Start"},null,8,["value","mode","disabled"]),a[74]||(a[74]=(0,t.createElementVNode)("p",{class:"help-block"},"Integer. The Port Range Start of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",de,[(0,t.createVNode)(be,{value:e.natRuleTargetPortRangeEnd,"onUpdate:value":a[45]||(a[45]=a=>e.natRuleTargetPortRangeEnd=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Port Range End"},null,8,["value","mode","disabled"]),a[75]||(a[75]=(0,t.createElementVNode)("p",{class:"help-block"},"Integer. The Port Range End of the new Nat Gateway Rule.",-1))])]),(0,t.createElementVNode)("div",re,[(0,t.createElementVNode)("button",{onClick:a[46]||(a[46]=a=>e.addNatRule())}," Add NAT Gateway Rule + ")])])):(0,t.createCommentVNode)("",!0)])])}var ce=l(4409),ve=l(9980),me=l(240),pe=l(5533),he=l(9380),be=l(585),Ne=l(1230),ye=l(9726),Ee=l(4220),Ie=l(7305),ge=l(4364);function Te(e){let a=[{label:"Las Vegas, USA",value:{value:"us/las",name:"Las Vegas, USA"}},{label:"Newark, USA",value:{value:"us/ewr",name:"Newark, USA"}},{label:"Frankfurt, Germany",value:{value:"de/fra",name:"Frankfurt, Germany"}},{label:"Berlin, Germany",value:{value:"de/txl",name:"Berlin, Germany"}},{label:"London, UK",value:{value:"gb/lhr",name:"London, UK"}},{label:"Logroño, Spain",value:{value:"es/vit",name:"Logroño, Spain"}},{label:"Paris, France",value:{value:"fr/par",name:"Paris, France"}}],l=a[0].value;return a.forEach((a=>{a.value.value==e&&(l=a.value)})),{options:a,selected:l,busy:!1,enabled:!1}}function fe(e){let a=[{label:"Enterprise",value:{value:"ENTERPRISE",name:"Enterprise"}},{label:"Cube",value:{value:"CUBE",name:"Cube"}}],l=a[0].value;return a.forEach((a=>{a.value.value==e&&(l=a.value)})),{options:a,selected:l,busy:!1,enabled:!1}}function Se(e){let a=[{label:"AUTO",value:{value:"AUTO",name:"AUTO"}},{label:"ZONE_1",value:{value:"ZONE_1",name:"ZONE_1"}},{label:"ZONE_2",value:{value:"ZONE_2",name:"ZONE_2"}}],l=a[0].value;return a.forEach((a=>{a.value.value==e&&(l=a.value)})),{options:a,selected:l,busy:!1,enabled:!1}}function Ve(e){let a=[{label:"XS",value:{value:"CUBES XS",name:"XS"}},{label:"S",value:{value:"CUBES S",name:"S"}},{label:"M",value:{value:"CUBES M",name:"M"}},{label:"L",value:{value:"CUBES L",name:"L"}},{label:"XL",value:{value:"CUBES XL",name:"XL"}},{label:"XXL",value:{value:"CUBES XXL",name:"XXL"}},{label:"3XL",value:{value:"CUBES 3XL",name:"3XL"}},{label:"4XL",value:{value:"CUBES 4XL",name:"4XL"}}],l=a[0].value;return a.forEach((a=>{a.value.value==e&&(l=a.value)})),{options:a,selected:l,busy:!1,enabled:!1}}function Ce(e){let a=[{label:"AUTO",value:{value:"AUTO",name:"AUTO"}},{label:"ZONE_1",value:{value:"ZONE_1",name:"ZONE_1"}},{label:"ZONE_2",value:{value:"ZONE_2",name:"ZONE_2"}},{label:"ZONE_3",value:{value:"ZONE_3",name:"ZONE_3"}}],l=a[0].value;return a.forEach((a=>{a.value.value==e&&(l=a.value)})),{options:a,selected:l,busy:!1,enabled:!1}}function we(e){let a=[{label:"Intel XEON (USA)",value:{value:"INTEL_XEON",name:"Intel XEON (USA)"}},{label:"Intel SKYLAKE (Europe)",value:{value:"INTEL_SKYLAKE",name:"Intel SKYLAKE (Europe)"}},{label:"AMD OPTERON (USA)",value:{value:"AMD_OPTERON",name:"AMD OPTERON (USA)"}},{label:"INTEL ICELAKE (Europe)",value:{value:"INTEL_ICELAKE",name:"INTEL ICELAKE (Europe)"}},{label:"AMD EPYC",value:{value:"AMD_EPYC",name:"AMD EPYC"}}],l=a[0].value;return a.forEach((a=>{a.value.value==e&&(l=a.value)})),{options:a,selected:l,busy:!1,enabled:!1}}function Ae(e){let a=[{label:"HDD",value:{value:"HDD",name:"HDD"}},{label:"SSD",value:{value:"SSD",name:"SSD"}}],l=a[0].value;return a.forEach((a=>{a.value.value==e&&(l=a.value)})),{options:a,selected:l,busy:!1,enabled:!1}}function Pe(){let e=[{label:"ALL",value:{value:"ALL",name:"ALL"}},{label:"TCP",value:{value:"TCP",name:"TCP"}},{label:"UDP",value:{value:"UDP",name:"UDP"}},{label:"ICMP",value:{value:"ICMP",name:"ICMP"}}];return{options:e,selected:e[0].value,busy:!1,enabled:!1}}function ke(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}function Le(e){let a=e.split("/");return 2==a.length&&ke(a[0])&&!Number.isNaN(parseInt(a[1]))}var Re=(0,t.defineComponent)({components:{Banner:ve.l,Loading:ce.A,Checkbox:be.S,StringList:Ne.a,LabeledInput:he.o,LabeledSelect:pe.A,LabeledTooltip:Ie.LabeledTooltip},mixins:[me.A],props:{uuid:{type:String,required:!0},cluster:{type:Object,default:()=>({})},credentialId:{type:String,required:!0},disabled:{type:Boolean,default:!1},busy:{type:Boolean,default:!1},provider:{type:String,required:!0}},async fetch(){this.errors=[],this.credentialId&&(this.mode!==Ee.nW?this.$emit("validationChanged",!0):this.initForViewMode())},data(){const e=["rule01:SNAT:TCP::::22:22","rule02:SNAT:UDP::::53:53","rule03:SNAT:TCP::::80:80","rule04:SNAT:TCP::::179:179","rule05:SNAT:TCP::::443:443","rule06:SNAT:TCP::::2376:2376","rule07:SNAT:UDP::::4789:4789","rule08:SNAT:TCP::::6443:6443","rule09:SNAT:TCP::::6783:6783","rule10:SNAT:TCP::::8443:8443","rule11:SNAT:UDP::::8472:8472","rule12:SNAT:TCP::::9099:9099","rule13:SNAT:TCP::::9100:9100","rule14:SNAT:TCP::::9443:9443","rule15:SNAT:TCP::::9796:9796","rule16:SNAT:TCP::::10254:10254","rule17:SNAT:TCP::::10256:10256","rule18:SNAT:TCP::::2379:2380","rule19:SNAT:UDP::::6783:6784","rule20:SNAT:TCP::::10250:10252","rule21:SNAT:TCP::::30000:32767","rule22:SNAT:UDP::::30000:32767","rule23:SNAT:ALL:::::"];return{authenticating:!1,ready:!1,os:null,password:null,havePassword:!1,location:Te(this.value?.location||"us/las"),serverType:fe(this.value?.serverType||"ENTERPRISE"),template:Ve(this.value?.template||"CUBES XS"),serverAvailabilityZone:Se(this.value?.serverAvailabilityZone||"AUTO"),volumeAvailabilityZone:Ce(this.value?.volumeAvailabilityZone||"AUTO"),cpuFamily:we(this.value?.cpuFamily||"INTEL_XEON"),diskType:Ae(this.value?.diskType||"HDD"),cores:this.value?.cores||"2",ram:this.value?.ram||"2048",diskSize:this.value?.diskSize||"50",image:this.value?.image||"ubuntu:20.04",imagePassword:this.value?.imagePassword,cloudInit:this.value?.cloudInit,sshUser:this.value?.sshUser||"root",sshInCloudInit:this.value?.sshInCloudInit||!1,datacenterId:this.value?.datacenterId,datacenterName:this.value?.datacenterName||"docker-machine-data-center",lanId:this.value?.lanId,lanName:this.value?.lanName||"docker-machine-lan",privateLan:this.value?.privateLan||!1,nicDhcp:this.value?.nicDhcp||!1,nicIps:this.value?.nicIps||[],additionalLans:this.value?.additionalLans||[],waitForIpChange:this.value?.waitForIpChange||!1,waitForIpChangeTimeout:this.value?.waitForIpChangeTimeout||"600",natId:this.value?.natId,natName:this.value?.natName||"docker-machine-nat",createNat:this.value?.createNat||!1,natLansToGateways:this.getNatLansToGateways(this.value?.natLansToGateways)||[],natFlowlogs:this.value?.natFlowlogs||[],natPublicIps:this.value?.natPublicIps||[],natRules:"create"==this.mode?e:this.value?.natRules||[],natRuleName:"",natRuleType:"SNAT",natRuleProtocol:Pe(),natRuleSourceSubnet:"",natRulePublicIp:"",natRuleTargetSubnet:"",natRuleTargetPortRangeStart:"",natRuleTargetPortRangeEnd:"",errors:null}},watch:{credentialId(){this.$fetch()}},methods:{stringify:ye.As,initForViewMode(){this.fakeSelectOptions(this.Location,this.value?.location),this.fakeSelectOptions(this.ServerType,this.value?.serverType),this.fakeSelectOptions(this.serverAvailabilityZone,this.value?.serverAvailabilityZone),this.fakeSelectOptions(this.volumeAvailabilityZone,this.value?.volumeAvailabilityZone),this.fakeSelectOptions(this.CpuFamily,this.value?.cpuFamily),this.fakeSelectOptions(this.DiskType,this.value?.diskType)},fakeSelectOptions(e,a){e.busy=!1,e.enabled=!1,e.options=[],a&&e.options.push({label:a,value:a}),e.selected=a},onChangeNicIps(e){for(let a of e)if(!ke(a))return void alert("Invalid IP detected: "+a);this.nicIps=e},onChangeAdditionalLans(e){this.additionalLans=e},onChangeNatPublicIps(e){for(let a of e)if(!ke(a))return void alert("Invalid IP detected: "+a);this.natPublicIps=e},onChangeNatLansToGateways(e){for(let a of e){let e=a.split(":");if(2!=e.length)return void alert("Invalid entry detected: "+a+". The accepted format is LanId:IP!");let l=e[0];if(Number.isNaN(parseInt(l)))return void alert("Invalid LAN ID detected: "+l);let t=e[1];if(!ke(t))return void alert("Invalid IP detected: "+t)}this.natLansToGateways=e.sort()},onChangeNatFlowlogs(e){for(let a of e){let e=a.split(":");if(4!=e.length)return void alert("Invalid entry detected: "+a+". The accepted format is name:action:direction:bucket!");let l=e[1];if(!["ACCEPTED","REJECTED","ALL"].includes(l))return void alert("Invalid action: "+l+". Must be one of ['ACCEPTED', 'REJECTED', 'ALL']");let t=e[2];if(!["INGRESS","EGRESS","BIDIRECTIONAL"].includes(t))return void alert("Invalid direction: "+t+". Must be one of ['INGRESS', 'EGRESS', 'BIDIRECTIONAL']")}this.natFlowlogs=e.sort()},checkNatRule(e){let a=e.split(":");return 8!=a.length?(alert("Invalid entry detected: "+e+". The accepted format is name:type:protocol:public_ip:source_subnet:target_subnet:target_port_range_start:target_port_range_end!"),!1):["SNAT"].includes(a[1])?["TCP","UDP","ICMP","ALL"].includes(a[2])?a[3]&&!ke(a[3])?(alert("Invalid IP detected: "+a[3]),!1):a[4]&&!Le(a[4])?(alert("Invalid Subnet detected: "+a[4]),!1):a[5]&&!Le(a[5])?(alert("Invalid Subnet detected: "+a[5]),!1):a[6]&&(!Number.isInteger(Number(a[6]))||Number(a[6])<0)?(alert("Invalid Port detected: "+a[6]),!1):!(a[7]&&(!Number.isInteger(Number(a[7]))||Number(a[7])<0))||(alert("Invalid Port detected: "+a[7]),!1):(alert("Invalid rule protocol: "+a[2]+". Must be one of ['TCP', 'UDP', 'ICMP', 'ALL']"),!1):(alert("Invalid rule type: "+a[1]+". Must be one of ['SNAT']"),!1)},onChangeNatRules(e){for(let a of e)if(!this.checkNatRule(a))return!1;this.natRules=e.sort()},addNatRule(){let e=[this.natRuleName,this.natRuleType,this.natRuleProtocol.selected.value,this.natRulePublicIp,this.natRuleSourceSubnet,this.natRuleTargetSubnet,this.natRuleTargetPortRangeStart,this.natRuleTargetPortRangeEnd].join(":");this.natRules.includes(e)?alert("Rule is already in list!"):this.checkNatRule(e)&&this.natRules.push(e)},onPrivateKeyFileSelected(e){this.filename=e.file.name,this.privateKeyFile=e.data,this.privateKeyFieldType="text",this.$emit("validationChanged",!0)},formatNatLansToGateways(){let e={};for(let l of this.natLansToGateways){let a=l.split(":"),t=a[0],o=a[1];e.hasOwnProperty(t)?e[t].push(o):e[t]=[o]}let a=[];for(let l in e)a.push(`${l}=${e[l].join(",")}`);return a.join(":")},getNatLansToGateways(e){if(!e)return;let a,l=[];for(let t of e.split(":")){a=t.split("=");for(let e of a[1].split(","))l.push(`${a[0]}:${e}`)}return l},syncValue(){ge.log("salut"),ge.log(this),this.value.location=this.location.selected?.value,this.value.serverType=this.serverType.selected?.value,this.value.serverAvailabilityZone=this.serverAvailabilityZone.selected?.value,this.value.template=this.template.selected?.value,this.value.volumeAvailabilityZone=this.volumeAvailabilityZone.selected?.value,this.value.cpuFamily=this.cpuFamily.selected?.value,this.value.diskType=this.diskType.selected?.value,this.value.cores=this.cores,this.value.ram=this.ram,this.value.diskSize=this.diskSize,this.value.image=this.image,this.value.imagePassword=this.imagePassword,this.value.cloudInit=this.cloudInit,this.value.sshUser=this.sshUser,this.value.sshInCloudInit=this.sshInCloudInit,this.value.datacenterId=this.datacenterId,this.value.datacenterName=this.datacenterName,this.value.lanId=this.lanId,this.value.lanName=this.lanName,this.value.privateLan=this.privateLan,this.value.nicDhcp=this.nicDhcp,this.value.nicIps=this.nicIps,this.value.additionalLans=this.additionalLans,this.value.waitForIpChange=this.waitForIpChange,this.value.waitForIpChangeTimeout=this.waitForIpChangeTimeout,this.value.natId=this.natId,this.value.natName=this.natName,this.value.createNat=this.createNat,this.value.natLansToGateways=this.formatNatLansToGateways(),this.value.natFlowlogs=this.natFlowlogs,this.value.natPublicIps=this.natPublicIps,this.value.natRules=this.natRules,this.value.skipDefaultNatRules=!0},test(){this.syncValue()}}}),Ue=(l(3057),l(7433));const Oe=(0,Ue.A)(Re,[["render",ue],["__scopeId","data-v-ff63a74c"]]);var De=Oe}}]);
//# sourceMappingURL=ionoscloud-0.3.0.umd.min.machine-config.js.map