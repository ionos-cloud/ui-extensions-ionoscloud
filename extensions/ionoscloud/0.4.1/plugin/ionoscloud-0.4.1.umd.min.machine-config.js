(("undefined"!==typeof self?self:this)["webpackChunkionoscloud_0_4_1"]=("undefined"!==typeof self?self:this)["webpackChunkionoscloud_0_4_1"]||[]).push([[921],{7421:function(e,a,l){var t=l(38205);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var o=l(74825).A;o("4f43fc26",t,!0,{sourceMap:!1,shadowMode:!1})},38205:function(e,a,l){"use strict";l.r(a);var t=l(36758),o=l.n(t),n=l(40935),s=l.n(n),i=s()(o());i.push([e.id,".help-block[data-v-7d826ef8]{margin-top:.5em;font-size:.8em;margin-left:1em}.create-nat[data-v-7d826ef8]{flex-direction:column}.ionoscloud-config[data-v-7d826ef8]{display:flex;align-items:center}.ionoscloud-config>.title[data-v-7d826ef8]{font-weight:700;padding:4px 0}.ionoscloud-config>.loading[data-v-7d826ef8]{margin-left:20px;display:flex;align-items:center}.ionoscloud-config>.loading>i[data-v-7d826ef8]{margin-right:4px}",""]),a["default"]=i},93148:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return Me}});var t=l(9274);const o={key:1},n={class:"row mt-10"},s={class:"col span-3"},i={class:"col span-3"},d={key:0,class:"col span-3"},r={key:1,class:"col span-3"},u={key:2,class:"col span-3"},c={key:0,class:"row mt-10"},v={class:"col span-3"},m={class:"col span-3"},p={class:"col span-6"},h={key:1,class:"row mt-10"},b={class:"col span-6"},N={class:"col span-6"},y={class:"row mt-10"},I={class:"col span-6"},E={class:"col span-6"},g={class:"row mt-10"},f={class:"col span-12"},T=["disabled"],S={class:"row mt-10"},C={class:"col span-4"},V={class:"col span-4"},w={class:"col span-4"},k={class:"row mt-10"},A={class:"col span-4"},P={class:"col span-4"},R={class:"row mt-10"},L={class:"col span-4"},U={class:"col span-4"},O={class:"col span-4"},D={class:"row mt-10"},B={class:"col span-4"},_={class:"row mt-10"},F={class:"col span-4"},M={class:"col span-4"},G={class:"row mt-10"},Z={class:"col span-4"},x={class:"col span-4"},K={class:"row mt-10"},q={class:"col span-4"},X={class:"col span-4"},$={class:"col span-4"},z={key:2,class:"row mt-10"},j={class:"col span-4"},H={class:"col span-4"},Y={class:"col span-4"},W={key:3,class:"row mt-10"},J={class:"col span-6"},Q={key:4,class:"card-container create-nat"},ee={class:"row mt-10"},ae={class:"col span-3"},le={class:"col span-3"},te={class:"col span-3"},oe={class:"col span-3"},ne={class:"row mt-10"},se={class:"col span-3"},ie={class:"col span-3"},de={class:"col span-3"},re={class:"col span-3"},ue={class:"mt-10"};function ce(e,a,l,ce,ve,me){const pe=(0,t.resolveComponent)("Loading"),he=(0,t.resolveComponent)("Banner"),be=(0,t.resolveComponent)("LabeledSelect"),Ne=(0,t.resolveComponent)("LabeledInput"),ye=(0,t.resolveComponent)("Checkbox"),Ie=(0,t.resolveComponent)("StringList");return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[e.$fetchState.pending?((0,t.openBlock)(),(0,t.createBlock)(pe,{key:0,delayed:!0})):(0,t.createCommentVNode)("",!0),e.errors.length?((0,t.openBlock)(),(0,t.createElementBlock)("div",o,[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.errors,((a,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:l},[(0,t.createVNode)(he,{color:"error",label:e.stringify(a)},null,8,["label"])])))),128))])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",null,[a[78]||(a[78]=(0,t.createElementVNode)("div",{class:"ionoscloud-config"},[(0,t.createElementVNode)("div",{class:"title"}," ionoscloud Configuration ")],-1)),(0,t.createElementVNode)("div",n,[(0,t.createElementVNode)("div",s,[(0,t.createVNode)(be,{value:e.location.selected,"onUpdate:value":a[0]||(a[0]=a=>e.location.selected=a),label:"Location",options:e.location.options,loading:e.location.busy,searchable:!1},null,8,["value","options","loading"])]),(0,t.createElementVNode)("div",i,[(0,t.createVNode)(be,{value:e.serverType.selected,"onUpdate:value":a[1]||(a[1]=a=>e.serverType.selected=a),label:"ServerType",options:e.serverType.options,loading:e.serverType.busy,searchable:!1},null,8,["value","options","loading"])]),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",d,[(0,t.createVNode)(be,{value:e.serverAvailabilityZone.selected,"onUpdate:value":a[2]||(a[2]=a=>e.serverAvailabilityZone.selected=a),label:"serverAvailabilityZone",options:e.serverAvailabilityZone.options,loading:e.serverAvailabilityZone.busy,searchable:!1},null,8,["value","options","loading"])])):(0,t.createCommentVNode)("",!0),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",r,[(0,t.createVNode)(be,{value:e.volumeAvailabilityZone.selected,"onUpdate:value":a[3]||(a[3]=a=>e.volumeAvailabilityZone.selected=a),label:"volumeAvailabilityZone",options:e.volumeAvailabilityZone.options,loading:e.volumeAvailabilityZone.busy,searchable:!1},null,8,["value","options","loading"])])):(0,t.createCommentVNode)("",!0),"CUBE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",u,[(0,t.createVNode)(be,{value:e.template.selected,"onUpdate:value":a[4]||(a[4]=a=>e.template.selected=a),label:"CUBE Server Template",options:e.template.options,loading:e.template.busy,searchable:!1},null,8,["value","options","loading"])])):(0,t.createCommentVNode)("",!0)]),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",c,[(0,t.createElementVNode)("div",v,[(0,t.createVNode)(be,{value:e.cpuFamily.selected,"onUpdate:value":a[5]||(a[5]=a=>e.cpuFamily.selected=a),label:"CpuFamily",options:e.cpuFamily.options,loading:e.cpuFamily.busy,searchable:!1},null,8,["value","options","loading"])]),(0,t.createElementVNode)("div",m,[(0,t.createVNode)(Ne,{value:e.cores,"onUpdate:value":a[6]||(a[6]=a=>e.cores=a),mode:e.mode,disabled:e.busy,required:!0,label:"CPU Core Count"},null,8,["value","mode","disabled"])]),(0,t.createElementVNode)("div",p,[(0,t.createVNode)(Ne,{value:e.ram,"onUpdate:value":a[7]||(a[7]=a=>e.ram=a),mode:e.mode,disabled:e.busy,required:!0,label:"RAM size (in MiB)"},null,8,["value","mode","disabled"]),a[48]||(a[48]=(0,t.createElementVNode)("p",{class:"help-block"},"Must be a multiple of 256",-1))])])):(0,t.createCommentVNode)("",!0),"ENTERPRISE"===e.serverType.selected.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",h,[(0,t.createElementVNode)("div",b,[(0,t.createVNode)(Ne,{value:e.diskSize,"onUpdate:value":a[8]||(a[8]=a=>e.diskSize=a),mode:e.mode,disabled:e.busy,required:!0,label:"Disk size (in GB)"},null,8,["value","mode","disabled"])]),(0,t.createElementVNode)("div",N,[(0,t.createVNode)(be,{value:e.diskType.selected,"onUpdate:value":a[9]||(a[9]=a=>e.diskType.selected=a),label:"DiskType",options:e.diskType.options,loading:e.diskType.busy,searchable:!1,required:!0},null,8,["value","options","loading"])])])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",y,[(0,t.createElementVNode)("div",I,[(0,t.createVNode)(Ne,{value:e.image,"onUpdate:value":a[10]||(a[10]=a=>e.image=a),mode:e.mode,disabled:e.busy,required:!0,label:"Image Alias or ID"},null,8,["value","mode","disabled"]),a[49]||(a[49]=(0,t.createElementVNode)("p",{class:"help-block"},[(0,t.createTextVNode)("You can use "),(0,t.createElementVNode)("a",{href:"https://docs.ionos.com/cli-ionosctl",target:"_blank",rel:"noopener noreferrer"},"ionosctl image list [-F name=operatingSystem]")],-1))]),(0,t.createElementVNode)("div",E,[(0,t.createVNode)(Ne,{value:e.imagePassword,"onUpdate:value":a[11]||(a[11]=a=>e.imagePassword=a),mode:e.mode,disabled:e.busy,required:!0,label:"Image Password",type:"password"},null,8,["value","mode","disabled"])])]),(0,t.createElementVNode)("div",g,[(0,t.createElementVNode)("div",f,[a[50]||(a[50]=(0,t.createElementVNode)("label",{class:"acc-label"},"Cloud init configuration.",-1)),(0,t.withDirectives)((0,t.createElementVNode)("textarea",{"onUpdate:modelValue":a[12]||(a[12]=a=>e.cloudInit=a),disabled:e.busy||e.mode===e._VIEW},null,8,T),[[t.vModelText,e.cloudInit]]),a[51]||(a[51]=(0,t.createElementVNode)("p",{class:"help-block"},[(0,t.createTextVNode)("Optional. "),(0,t.createElementVNode)("a",{href:"https://cloudinit.readthedocs.io/en/latest/topics/examples.html",target:"_blank",rel:"noopener noreferrer"},"Cloud-init Documentation"),(0,t.createTextVNode)(".")],-1))])]),(0,t.createElementVNode)("div",S,[(0,t.createElementVNode)("div",C,[(0,t.createVNode)(Ne,{value:e.sshUser,"onUpdate:value":a[13]||(a[13]=a=>e.sshUser=a),mode:e.mode,disabled:e.busy,label:"SSH User"},null,8,["value","mode","disabled"]),a[52]||(a[52]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. User to connect to via SSH.",-1))]),(0,t.createElementVNode)("div",V,[(0,t.createVNode)(ye,{label:"Send SSH in user data.",value:e.sshInCloudInit,"onUpdate:value":a[14]||(a[14]=a=>e.sshInCloudInit=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[53]||(a[53]=(0,t.createElementVNode)("p",{class:"help-block"},"Should the driver only add the SSH info in the user data? (required for custom images).",-1))]),(0,t.createElementVNode)("div",w,[(0,t.createVNode)(ye,{label:"Append RKE provisioning config in the userdata sent to the server",value:e.appendRkeUserdata,"onUpdate:value":a[15]||(a[15]=a=>e.appendRkeUserdata=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[54]||(a[54]=(0,t.createElementVNode)("p",{class:"help-block"},"Whether or not the driver should append the RKE provisioning generated by Rancher to the user-data, is sent to the server even if no addition user-data is specified inside the cloudInit block.",-1))])]),(0,t.createElementVNode)("div",k,[(0,t.createElementVNode)("div",A,[(0,t.createVNode)(Ne,{value:e.datacenterId,"onUpdate:value":a[16]||(a[16]=a=>e.datacenterId=a),mode:e.mode,disabled:e.busy,label:"Datacenter ID"},null,8,["value","mode","disabled"]),a[55]||(a[55]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional, UUID-4 format. If you want to use an existing IONOS Datacenter to host this VM, you can provide its ID here.",-1))]),(0,t.createElementVNode)("div",P,[(0,t.createVNode)(Ne,{value:e.datacenterName,"onUpdate:value":a[17]||(a[17]=a=>e.datacenterName=a),mode:e.mode,disabled:e.busy,label:"Datacenter Name"},null,8,["value","mode","disabled"]),a[56]||(a[56]=(0,t.createElementVNode)("p",{class:"help-block"},"String. If you want to use an existing IONOS Datacenter to host this VM, you can change the name here. Please note that if the ID is set it will the prioritized.",-1))])]),(0,t.createElementVNode)("div",R,[(0,t.createElementVNode)("div",L,[(0,t.createVNode)(Ne,{value:e.lanId,"onUpdate:value":a[18]||(a[18]=a=>e.lanId=a),mode:e.mode,disabled:e.busy,label:"LAN ID"},null,8,["value","mode","disabled"]),a[57]||(a[57]=(0,t.createElementVNode)("p",{class:"help-block"},'Optional, integer. The LAN the VM will attach to. If blank, a default LAN will be created. Overrides "Private LAN" setting.',-1))]),(0,t.createElementVNode)("div",U,[(0,t.createVNode)(Ne,{value:e.lanName,"onUpdate:value":a[19]||(a[19]=a=>e.lanName=a),mode:e.mode,disabled:e.busy,label:"LAN Name"},null,8,["value","mode","disabled"]),a[58]||(a[58]=(0,t.createElementVNode)("p",{class:"help-block"},"String. If you want to use an existing IONOS LAN, you can change the name here. Please note that if the ID is set it will the prioritized.",-1))]),(0,t.createElementVNode)("div",O,[(0,t.createVNode)(ye,{label:"Make Default LAN Private",value:e.privateLan,"onUpdate:value":a[20]||(a[20]=a=>e.privateLan=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[59]||(a[59]=(0,t.createElementVNode)("p",{class:"help-block"},"If the default LAN does not exist, create a private LAN",-1))])]),(0,t.createElementVNode)("div",D,[(0,t.createElementVNode)("div",B,[(0,t.createVNode)(Ie,{label:"Additional LANs",value:e.additionalLans,"onUpdate:value":a[21]||(a[21]=a=>e.additionalLans=a),items:e.additionalLans,mode:e.mode,disabled:e.busy,onChange:a[22]||(a[22]=a=>e.onChangeAdditionalLans(a))},null,8,["value","items","mode","disabled"]),a[60]||(a[60]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. Exiting Ionos LAN names. Every LAN in the datacenter which has its name in this list will be connected to the server, names which are not found will be ignored.",-1))])]),(0,t.createElementVNode)("div",_,[(0,t.createElementVNode)("div",F,[(0,t.createVNode)(ye,{label:"NIC DHCP",value:e.nicDhcp,"onUpdate:value":a[23]||(a[23]=a=>e.nicDhcp=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[61]||(a[61]=(0,t.createElementVNode)("p",{class:"help-block"},"Set whether the created NIC should have dhcp set on or off",-1))]),(0,t.createElementVNode)("div",M,[(0,t.createVNode)(Ie,{label:"NIC Ips",value:e.nicIps,"onUpdate:value":a[24]||(a[24]=a=>e.nicIps=a),items:e.nicIps,mode:e.mode,disabled:e.busy,onChange:a[25]||(a[25]=a=>e.onChangeNicIps(a))},null,8,["value","items","mode","disabled"]),a[62]||(a[62]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. IPBlock reserved IPs. If not set, the driver will reserve an IPBlock automatically or let the API set a private IP if the LAN is private",-1))])]),(0,t.createElementVNode)("div",G,[(0,t.createElementVNode)("div",Z,[(0,t.createVNode)(ye,{label:"Wait for NIC IP change",value:e.waitForIpChange,"onUpdate:value":a[26]||(a[26]=a=>e.waitForIpChange=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[63]||(a[63]=(0,t.createElementVNode)("p",{class:"help-block"},"Should the driver wait for the NIC IP to be set by external sources?",-1))]),(0,t.createElementVNode)("div",x,[(0,t.createVNode)(Ne,{value:e.waitForIpChangeTimeout,"onUpdate:value":a[27]||(a[27]=a=>e.waitForIpChangeTimeout=a),mode:e.mode,disabled:e.busy,label:"Wait for IP change timeout"},null,8,["value","mode","disabled"])])]),(0,t.createElementVNode)("div",K,[(0,t.createElementVNode)("div",q,[(0,t.createVNode)(Ne,{value:e.natId,"onUpdate:value":a[28]||(a[28]=a=>e.natId=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway ID"},null,8,["value","mode","disabled"]),a[64]||(a[64]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional, UUID-4 format. Use a preconfigured NAT Gateway. Datacenter ID and Private LAN required. Overrides NAT Config below",-1))]),(0,t.createElementVNode)("div",X,[(0,t.createVNode)(Ne,{value:e.natName,"onUpdate:value":a[29]||(a[29]=a=>e.natName=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Name"},null,8,["value","mode","disabled"]),a[65]||(a[65]=(0,t.createElementVNode)("p",{class:"help-block"},'String. If the "Create NAT" checkbox is checked, will try creating a NAT with this name. If one already exists, will use the existing NAT.',-1))]),(0,t.createElementVNode)("div",$,[(0,t.createVNode)(ye,{label:"Create a configurable NAT",value:e.createNat,"onUpdate:value":a[30]||(a[30]=a=>e.createNat=a),mode:e.mode,disabled:e.busy},null,8,["value","mode","disabled"]),a[66]||(a[66]=(0,t.createElementVNode)("p",{class:"help-block"},[(0,t.createTextVNode)("Requires private LAN. You can override settings of this NAT using the form below "),(0,t.createElementVNode)("a",{href:"#",target:"_blank",rel:"noopener noreferrer"},"See open ports here"),(0,t.createTextVNode)(". Must set gateway IP as default route via cloud config, default: 10.0.0.1")],-1))])]),!0===e.createNat?((0,t.openBlock)(),(0,t.createElementBlock)("div",z,[(0,t.createElementVNode)("div",j,[(0,t.createVNode)(Ie,{label:"Custom NAT: map LANs to Gateway IPs",value:e.natLansToGateways,"onUpdate:value":a[31]||(a[31]=a=>e.natLansToGateways=a),items:e.natLansToGateways,mode:e.mode,disabled:e.busy,onChange:a[32]||(a[32]=a=>e.onChangeNatLansToGateways(a))},null,8,["value","items","mode","disabled"]),a[67]||(a[67]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. Maps Lan IDs to a specific Gateway IP. Gateway IP must be set manually as default route.",-1))]),(0,t.createElementVNode)("div",H,[(0,t.createVNode)(Ie,{label:"Custom NAT: Public IPs",value:e.natPublicIps,"onUpdate:value":a[33]||(a[33]=a=>e.natPublicIps=a),items:e.natPublicIps,mode:e.mode,disabled:e.busy,onChange:a[34]||(a[34]=a=>e.onChangeNatPublicIps(a))},null,8,["value","items","mode","disabled"]),a[68]||(a[68]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. IPBlock reserved IPs. If not set, the driver will reserve an IPBlock automatically",-1))]),(0,t.createElementVNode)("div",Y,[(0,t.createVNode)(Ie,{label:"Custom NAT: Flowlogs",value:e.natFlowlogs,"onUpdate:value":a[35]||(a[35]=a=>e.natFlowlogs=a),items:e.natFlowlogs,mode:e.mode,disabled:e.busy,onChange:a[36]||(a[36]=a=>e.onChangeNatFlowlogs(a))},null,8,["value","items","mode","disabled"]),a[69]||(a[69]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. NAT Flowlogs.",-1))])])):(0,t.createCommentVNode)("",!0),!0===e.createNat?((0,t.openBlock)(),(0,t.createElementBlock)("div",W,[(0,t.createElementVNode)("div",J,[(0,t.createVNode)(Ie,{label:"Custom NAT: Rules",value:e.natRules,"onUpdate:value":a[37]||(a[37]=a=>e.natRules=a),items:e.natRules,mode:e.mode,disabled:e.busy,onChange:a[38]||(a[38]=a=>e.onChangeNatRules(a))},null,8,["value","items","mode","disabled"]),a[70]||(a[70]=(0,t.createElementVNode)("p",{class:"help-block"},"Optional. NAT Rules. Use the form bellow to add a new NAT rule",-1))])])):(0,t.createCommentVNode)("",!0),e.createNat?((0,t.openBlock)(),(0,t.createElementBlock)("div",Q,[(0,t.createElementVNode)("div",ee,[(0,t.createElementVNode)("div",ae,[(0,t.createVNode)(Ne,{value:e.natRuleName,"onUpdate:value":a[39]||(a[39]=a=>e.natRuleName=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Name"},null,8,["value","mode","disabled"]),a[71]||(a[71]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The name of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",le,[(0,t.createVNode)(Ne,{value:e.natRuleType,"onUpdate:value":a[40]||(a[40]=a=>e.natRuleType=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Type"},null,8,["value","mode","disabled"]),a[72]||(a[72]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The type of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",te,[(0,t.createVNode)(be,{value:e.natRuleProtocol.selected,"onUpdate:value":a[41]||(a[41]=a=>e.natRuleProtocol.selected=a),label:"natRuleProtocol",options:e.natRuleProtocol.options,loading:e.natRuleProtocol.busy,searchable:!1},null,8,["value","options","loading"])]),(0,t.createElementVNode)("div",oe,[(0,t.createVNode)(Ne,{value:e.natRulePublicIp,"onUpdate:value":a[42]||(a[42]=a=>e.natRulePublicIp=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Public IP"},null,8,["value","mode","disabled"]),a[73]||(a[73]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The Public IP of the new Nat Gateway Rule, leave black and the driver will use the nat gateway IP.",-1))])]),(0,t.createElementVNode)("div",ne,[(0,t.createElementVNode)("div",se,[(0,t.createVNode)(Ne,{value:e.natRuleSourceSubnet,"onUpdate:value":a[43]||(a[43]=a=>e.natRuleSourceSubnet=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Source Subnet"},null,8,["value","mode","disabled"]),a[74]||(a[74]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The Source Subnet of the new Nat Gateway Rule, leave black and the driver will use the first ip on the nic with mask 24.",-1))]),(0,t.createElementVNode)("div",ie,[(0,t.createVNode)(Ne,{value:e.natRuleTargetSubnet,"onUpdate:value":a[44]||(a[44]=a=>e.natRuleTargetSubnet=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Target Subnet"},null,8,["value","mode","disabled"]),a[75]||(a[75]=(0,t.createElementVNode)("p",{class:"help-block"},"String. The Target Subnet of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",de,[(0,t.createVNode)(Ne,{value:e.natRuleTargetPortRangeStart,"onUpdate:value":a[45]||(a[45]=a=>e.natRuleTargetPortRangeStart=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Port Range Start"},null,8,["value","mode","disabled"]),a[76]||(a[76]=(0,t.createElementVNode)("p",{class:"help-block"},"Integer. The Port Range Start of the new Nat Gateway Rule.",-1))]),(0,t.createElementVNode)("div",re,[(0,t.createVNode)(Ne,{value:e.natRuleTargetPortRangeEnd,"onUpdate:value":a[46]||(a[46]=a=>e.natRuleTargetPortRangeEnd=a),mode:e.mode,disabled:e.busy,label:"IONOS Nat Gateway Rule Port Range End"},null,8,["value","mode","disabled"]),a[77]||(a[77]=(0,t.createElementVNode)("p",{class:"help-block"},"Integer. The Port Range End of the new Nat Gateway Rule.",-1))])]),(0,t.createElementVNode)("div",ue,[(0,t.createElementVNode)("button",{onClick:a[47]||(a[47]=a=>e.addNatRule())}," Add NAT Gateway Rule + ")])])):(0,t.createCommentVNode)("",!0)])])}var ve=l(87619),me=l(9980),pe=l(20240),he=l(28149),be=l(79380),Ne=l(35664),ye=l(83093),Ie=l(41230),Ee=l(99726),ge=l(14220),fe=l(62208),Te=l(97305),Se=l(4364);const Ce=[{label:"frankfurt",value:{value:"de/fra",name:"frankfurt"}},{label:"berlin",value:{value:"de/txl",name:"berlin"}},{label:"logrono",value:{value:"es/vit",name:"logrono"}},{label:"paris",value:{value:"fr/par",name:"paris"}},{label:"worcester",value:{value:"gb/bhx",name:"worcester"}},{label:"london",value:{value:"gb/lhr",name:"london"}},{label:"newark",value:{value:"us/ewr",name:"newark"}},{label:"lasvegas",value:{value:"us/las",name:"lasvegas"}},{label:"lenexa",value:{value:"us/mci",name:"lenexa"}}],Ve=[{label:"Enterprise",value:{value:"ENTERPRISE",name:"Enterprise"}},{label:"Cube",value:{value:"CUBE",name:"Cube"}}],we=[{label:"INTEL_XEON",value:{value:"INTEL_XEON",name:"INTEL_XEON"}},{label:"INTEL_SKYLAKE",value:{value:"INTEL_SKYLAKE",name:"INTEL_SKYLAKE"}},{label:"INTEL_ICELAKE",value:{value:"INTEL_ICELAKE",name:"INTEL_ICELAKE"}},{label:"AMD_EPYC",value:{value:"AMD_EPYC",name:"AMD_EPYC"}}],ke=[{label:"AUTO",value:{value:"AUTO",name:"AUTO"}},{label:"ZONE_1",value:{value:"ZONE_1",name:"ZONE_1"}},{label:"ZONE_2",value:{value:"ZONE_2",name:"ZONE_2"}}],Ae=[{label:"AUTO",value:{value:"AUTO",name:"AUTO"}},{label:"ZONE_1",value:{value:"ZONE_1",name:"ZONE_1"}},{label:"ZONE_2",value:{value:"ZONE_2",name:"ZONE_2"}},{label:"ZONE_3",value:{value:"ZONE_3",name:"ZONE_3"}}],Pe=[{label:"Basic Cube L",value:{value:"Basic Cube L",name:"Basic Cube L"}},{label:"Basic Cube M",value:{value:"Basic Cube M",name:"Basic Cube M"}},{label:"Basic Cube S",value:{value:"Basic Cube S",name:"Basic Cube S"}},{label:"Basic Cube XL",value:{value:"Basic Cube XL",name:"Basic Cube XL"}},{label:"Basic Cube XS",value:{value:"Basic Cube XS",name:"Basic Cube XS"}},{label:"Memory Cube L",value:{value:"Memory Cube L",name:"Memory Cube L"}},{label:"Memory Cube M",value:{value:"Memory Cube M",name:"Memory Cube M"}},{label:"Memory Cube S",value:{value:"Memory Cube S",name:"Memory Cube S"}},{label:"Memory Cube XL",value:{value:"Memory Cube XL",name:"Memory Cube XL"}}],Re=[{label:"HDD",value:{value:"HDD",name:"HDD"}},{label:"SSD",value:{value:"SSD",name:"SSD"}},{label:"SSD Standard",value:{value:"SSD Standard",name:"SSD Standard"}},{label:"SSD Premium",value:{value:"SSD Premium",name:"SSD Premium"}},{label:"DAS",value:{value:"DAS",name:"DAS"}},{label:"ISO",value:{value:"ISO",name:"ISO"}}];function Le(e,a,l){let t=l||a,o=e||t[0].value.value,n=t[0].value,s=!1;if(t.forEach((e=>{e.value.value==o&&(n=e.value,s=!0)})),!s){let e={label:o,value:{value:o,name:o}};t.push(e),n=e.value}return{options:t,selected:n,busy:!1,enabled:!1}}function Ue(){let e=[{label:"ALL",value:{value:"ALL",name:"ALL"}},{label:"TCP",value:{value:"TCP",name:"TCP"}},{label:"UDP",value:{value:"UDP",name:"UDP"}},{label:"ICMP",value:{value:"ICMP",name:"ICMP"}}];return{options:e,selected:e[0].value,busy:!1,enabled:!1}}function Oe(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}function De(e){let a=e.split("/");return 2==a.length&&Oe(a[0])&&!Number.isNaN(parseInt(a[1]))}var Be=(0,t.defineComponent)({components:{Banner:me.l,Loading:ve.A,Checkbox:ye.S,StringList:Ie.a,LabeledInput:be.o,LabeledSelect:he.A,LabeledTooltip:Te.LabeledTooltip},mixins:[pe.A],props:{uuid:{type:String,required:!0},cluster:{type:Object,default:()=>({})},credentialId:{type:String,required:!0},disabled:{type:Boolean,default:!1},busy:{type:Boolean,default:!1},provider:{type:String,required:!0}},async fetch(){if(this.errors=[],this.credentialId)if(this.mode!==ge.nW){try{this.credential=await this.$store.dispatch("rancher/find",{type:Ne.k$.CLOUD_CREDENTIAL,id:this.credentialId})}catch(e){this.credential=null}try{const e=this.credentialId.replace(":","/"),a=await this.$store.dispatch("management/find",{type:Ne.bB,id:e});let l=a.data["ionoscloudcredentialConfig-password"];const t=atob(l);l=a.data["ionoscloudcredentialConfig-token"];const o=atob(l);l=a.data["ionoscloudcredentialConfig-username"];const n=atob(l);l=a.data["ionoscloudcredentialConfig-endpoint"];const s=atob(l);let i={basePath:s};void 0!=o?i.apiKey=o:void 0!=n&&void 0!=t&&(i.username=n,i.password=t);const d=new fe.Configuration(i),r=new fe.LocationsApi(d),u=new fe.TemplatesApi(d);let c=r.locationsGet({depth:1}),v=await u.templatesGet({depth:1});if(v&&200===v.status){let e=[];v.data.items.forEach((a=>{e.push({label:a.properties.name,value:{value:a.properties.name,name:a.properties.name}})})),this.template=Le(this.value?.template,Pe,e.sort(((e,a)=>e.value.value.localeCompare(a.value.value))))}if(c=await c,c&&200===c.status){let e=[],a=new Set,l=[];c.data.items.forEach((l=>{e.push({label:l.properties.name,value:{value:l.id,name:l.properties.name}}),l.properties.cpuArchitecture&&l.properties.cpuArchitecture.forEach((e=>{a.add(e.cpuFamily)}))})),a.forEach((e=>l.push({label:e,value:{value:e,name:e}}))),this.location=Le(this.value?.location,Ce,e.sort(((e,a)=>e.value.value.localeCompare(a.value.value)))),this.cpuFamily=Le(this.value?.cpuFamily,we,l.sort(((e,a)=>e.value.value.localeCompare(a.value.value))))}}catch(e){Se.error(e)}this.authenticating=!0,this.$emit("validationChanged",!0)}else this.initForViewMode()},data(){const e=["rule01:SNAT:TCP::::22:22","rule02:SNAT:UDP::::53:53","rule03:SNAT:TCP::::80:80","rule04:SNAT:TCP::::179:179","rule05:SNAT:TCP::::443:443","rule06:SNAT:TCP::::2376:2376","rule07:SNAT:UDP::::4789:4789","rule08:SNAT:TCP::::6443:6443","rule09:SNAT:TCP::::6783:6783","rule10:SNAT:TCP::::8443:8443","rule11:SNAT:UDP::::8472:8472","rule12:SNAT:TCP::::9099:9099","rule13:SNAT:TCP::::9100:9100","rule14:SNAT:TCP::::9443:9443","rule15:SNAT:TCP::::9796:9796","rule16:SNAT:TCP::::10254:10254","rule17:SNAT:TCP::::10256:10256","rule18:SNAT:TCP::::2379:2380","rule19:SNAT:UDP::::6783:6784","rule20:SNAT:TCP::::10250:10252","rule21:SNAT:TCP::::30000:32767","rule22:SNAT:UDP::::30000:32767","rule23:SNAT:ALL:::::"];return{authenticating:!1,ready:!1,os:null,password:null,havePassword:!1,location:Le(this.value?.location,Ce,null),serverType:Le(this.value?.serverType||"ENTERPRISE",Ve,null),template:Le(this.value?.template,Pe,null),serverAvailabilityZone:Le(this.value?.serverAvailabilityZone||"AUTO",ke,null),volumeAvailabilityZone:Le(this.value?.volumeAvailabilityZone||"AUTO",Ae,null),cpuFamily:Le(this.value?.cpuFamily,we,null),diskType:Le(this.value?.diskType||"HDD",Re,null),cores:this.value?.cores||"2",ram:this.value?.ram||"2048",diskSize:this.value?.diskSize||"50",image:this.value?.image||"ubuntu:20.04",imagePassword:this.value?.imagePassword,cloudInit:this.value?.cloudInit,sshUser:this.value?.sshUser||"root",sshInCloudInit:this.value?.sshInCloudInit||!1,datacenterId:this.value?.datacenterId,datacenterName:this.value?.datacenterName||"docker-machine-data-center",lanId:this.value?.lanId,lanName:this.value?.lanName||"docker-machine-lan",privateLan:this.value?.privateLan||!1,nicDhcp:this.value?.nicDhcp||!1,nicIps:this.value?.nicIps||[],additionalLans:this.value?.additionalLans||[],waitForIpChange:this.value?.waitForIpChange||!1,waitForIpChangeTimeout:this.value?.waitForIpChangeTimeout||"600",natId:this.value?.natId,natName:this.value?.natName||"docker-machine-nat",createNat:this.value?.createNat||!1,natLansToGateways:this.getNatLansToGateways(this.value?.natLansToGateways)||[],natFlowlogs:this.value?.natFlowlogs||[],natPublicIps:this.value?.natPublicIps||[],appendRkeUserdata:this.value?.appendRkeUserdata||!1,natRules:"create"==this.mode?e:this.value?.natRules||[],natRuleName:"",natRuleType:"SNAT",natRuleProtocol:Ue(),natRuleSourceSubnet:"",natRulePublicIp:"",natRuleTargetSubnet:"",natRuleTargetPortRangeStart:"",natRuleTargetPortRangeEnd:"",errors:null}},watch:{credentialId(){this.$fetch()}},methods:{stringify:Ee.As,initForViewMode(){this.fakeSelectOptions(this.Location,this.value?.location),this.fakeSelectOptions(this.ServerType,this.value?.serverType),this.fakeSelectOptions(this.serverAvailabilityZone,this.value?.serverAvailabilityZone),this.fakeSelectOptions(this.volumeAvailabilityZone,this.value?.volumeAvailabilityZone),this.fakeSelectOptions(this.CpuFamily,this.value?.cpuFamily),this.fakeSelectOptions(this.DiskType,this.value?.diskType)},fakeSelectOptions(e,a){e.busy=!1,e.enabled=!1,e.options=[],a&&e.options.push({label:a,value:a}),e.selected=a},onChangeNicIps(e){for(let a of e)if(!Oe(a))return void alert("Invalid IP detected: "+a);this.nicIps=e},onChangeAdditionalLans(e){this.additionalLans=e},onChangeNatPublicIps(e){for(let a of e)if(!Oe(a))return void alert("Invalid IP detected: "+a);this.natPublicIps=e},onChangeNatLansToGateways(e){for(let a of e){let e=a.split(":");if(2!=e.length)return void alert("Invalid entry detected: "+a+". The accepted format is LanId:IP!");let l=e[0];if(Number.isNaN(parseInt(l)))return void alert("Invalid LAN ID detected: "+l);let t=e[1];if(!Oe(t))return void alert("Invalid IP detected: "+t)}this.natLansToGateways=e.sort()},onChangeNatFlowlogs(e){for(let a of e){let e=a.split(":");if(4!=e.length)return void alert("Invalid entry detected: "+a+". The accepted format is name:action:direction:bucket!");let l=e[1];if(!["ACCEPTED","REJECTED","ALL"].includes(l))return void alert("Invalid action: "+l+". Must be one of ['ACCEPTED', 'REJECTED', 'ALL']");let t=e[2];if(!["INGRESS","EGRESS","BIDIRECTIONAL"].includes(t))return void alert("Invalid direction: "+t+". Must be one of ['INGRESS', 'EGRESS', 'BIDIRECTIONAL']")}this.natFlowlogs=e.sort()},checkNatRule(e){let a=e.split(":");return 8!=a.length?(alert("Invalid entry detected: "+e+". The accepted format is name:type:protocol:public_ip:source_subnet:target_subnet:target_port_range_start:target_port_range_end!"),!1):["SNAT"].includes(a[1])?["TCP","UDP","ICMP","ALL"].includes(a[2])?a[3]&&!Oe(a[3])?(alert("Invalid IP detected: "+a[3]),!1):a[4]&&!De(a[4])?(alert("Invalid Subnet detected: "+a[4]),!1):a[5]&&!De(a[5])?(alert("Invalid Subnet detected: "+a[5]),!1):a[6]&&(!Number.isInteger(Number(a[6]))||Number(a[6])<0)?(alert("Invalid Port detected: "+a[6]),!1):!(a[7]&&(!Number.isInteger(Number(a[7]))||Number(a[7])<0))||(alert("Invalid Port detected: "+a[7]),!1):(alert("Invalid rule protocol: "+a[2]+". Must be one of ['TCP', 'UDP', 'ICMP', 'ALL']"),!1):(alert("Invalid rule type: "+a[1]+". Must be one of ['SNAT']"),!1)},onChangeNatRules(e){for(let a of e)if(!this.checkNatRule(a))return!1;this.natRules=e.sort()},addNatRule(){let e=[this.natRuleName,this.natRuleType,this.natRuleProtocol.selected.value,this.natRulePublicIp,this.natRuleSourceSubnet,this.natRuleTargetSubnet,this.natRuleTargetPortRangeStart,this.natRuleTargetPortRangeEnd].join(":");this.natRules.includes(e)?alert("Rule is already in list!"):this.checkNatRule(e)&&this.natRules.push(e)},onPrivateKeyFileSelected(e){this.filename=e.file.name,this.privateKeyFile=e.data,this.privateKeyFieldType="text",this.$emit("validationChanged",!0)},formatNatLansToGateways(){let e={};for(let l of this.natLansToGateways){let a=l.split(":"),t=a[0],o=a[1];e.hasOwnProperty(t)?e[t].push(o):e[t]=[o]}let a=[];for(let l in e)a.push(`${l}=${e[l].join(",")}`);return a.join(":")},getNatLansToGateways(e){if(!e)return;let a,l=[];for(let t of e.split(":")){a=t.split("=");for(let e of a[1].split(","))l.push(`${a[0]}:${e}`)}return l},syncValue(){this.value.location=this.location.selected?.value,this.value.serverType=this.serverType.selected?.value,this.value.serverAvailabilityZone=this.serverAvailabilityZone.selected?.value,this.value.template=this.template.selected?.value,this.value.volumeAvailabilityZone=this.volumeAvailabilityZone.selected?.value,this.value.cpuFamily=this.cpuFamily.selected?.value,this.value.diskType=this.diskType.selected?.value,this.value.cores=this.cores,this.value.ram=this.ram,this.value.diskSize=this.diskSize,this.value.image=this.image,this.value.imagePassword=this.imagePassword,this.value.cloudInit=this.cloudInit,this.value.sshUser=this.sshUser,this.value.sshInCloudInit=this.sshInCloudInit,this.value.datacenterId=this.datacenterId,this.value.datacenterName=this.datacenterName,this.value.lanId=this.lanId,this.value.lanName=this.lanName,this.value.privateLan=this.privateLan,this.value.nicDhcp=this.nicDhcp,this.value.nicIps=this.nicIps,this.value.additionalLans=this.additionalLans,this.value.waitForIpChange=this.waitForIpChange,this.value.waitForIpChangeTimeout=this.waitForIpChangeTimeout,this.value.natId=this.natId,this.value.natName=this.natName,this.value.appendRkeUserdata=this.appendRkeUserdata,this.value.createNat=this.createNat,this.value.natLansToGateways=this.formatNatLansToGateways(),this.value.natFlowlogs=this.natFlowlogs,this.value.natPublicIps=this.natPublicIps,this.value.natRules=this.natRules,this.value.skipDefaultNatRules=!0},test(){this.syncValue()}}}),_e=(l(7421),l(47433));const Fe=(0,_e.A)(Be,[["render",ce],["__scopeId","data-v-7d826ef8"]]);var Me=Fe},93558:function(e,a,l){var t={"./csp/metadata.json":6471,"./federal/metadata.json":91862,"./harvester/metadata.json":51507,"./rgs/metadata.json":48401,"./suse/metadata.json":37259};function o(e){var a=n(e);return l(a)}function n(e){if(!l.o(t,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t[e]}o.keys=function(){return Object.keys(t)},o.resolve=n,e.exports=o,o.id=93558}}]);
//# sourceMappingURL=ionoscloud-0.4.1.umd.min.machine-config.js.map